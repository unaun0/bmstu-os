# Файловая система `/proc`

Виртуальная файловая система, предоставляющая интерфейс для доступа к структурам ядра.

Каталоги и файлы не хранятся на диске, а создаются динамически.

## `proc/<pid>/`

### **cmdline** 

Файл; командная строка запуска процесса.

### **cwd**

Файл - сим. ссылка; указывает на директорию исполняемого файла.

### **comm**

Файл; имя комнады (исполняемого файла), как оно указано в ядре (без пути и доп. данных).

### **exe**

Файл - сим. ссылка; фактический путь к имполняемого файлу.

### **environ**

Файл; окружение процесса - набор переменных `<переменная окружения>=<значение>`.

##### shell - _путь к оболочке, которая используется в процессе._

##### session mananer - _путь к менеджеру сессии._

##### colorterm - _поддержка цветов терминала._

##### user - _имя пользователя._

##### XDG_CONFIG_DIRS - _пути к конфигурационным директориям._

##### XDG_SESSION_TYPE - _тип сессии в графическом окружении._

##### LOGNAME - _имя пользователя, под которым работает процесс._

##### OLDPWD - _имя родительской директории для рабочей директории процесса._

##### SHLVL - _уровень вложенности оболочки._

##### HOME - _домашняя директории пользователя._

##### и другие.

### **fd**

Ссылки на файлы, которые открыл процесс.

#### 0 - stdin, 1 - stdout, 2 - stderr

**dev/pts/1** - псевдоним для виртуального терминала, который позволяет взаимодействовать с процессом.

### **io**

Содержит статистику I/O процесса.

- **rchar** - количество символов, которые были прочитаны процессом.
- **wchar** - количество символов, котоыре были записаны процессом.
- **syscr** - количество сист. вызовов, связанных с операцией чтения.
- **syscw** - количество сист. вызовов, связанных с операцией записи.
- **read_byter** - общее количество байт, которые были фактическ прочитаны процессом.
- **write_byter** - общее количество байт, которые были фактическ записаны процессом.
- **canceller_write_bytes** - количество байт, которые процесс пытался записать, но был прерван.

### **maps**

Содержит отображенные в данный момент области памяти и права доступа к ним.

#### `addres   perms    offset    dev    inode    pathname`

##### addres - регион адрессного пространства процесса;

##### perms - права: r - read, w - write, x - execute, s - shared (разделяемый сегмент), p - private (copy-on-write);

##### offset - смещение;

##### dev - идентификатор устройства, где файл находится;

##### inode - номер inode файла;

##### pathname - имя файла, связанного с этим регионом.

---

##### [stack] - стэк главного потока процесса;
##### [heap] - куча процесса;
##### [vdso] - виртуальный динамический разделяемый объект;
##### [vvar] - область памяти, в которой хранятся данные и переменные, связанные с vDSO (виртуальным динамическим общим объектом);
##### [vsyscall] - ядро Linux отображает в пользовательском пространстве страницу, содержащую некоторые переменные и реализацию некоторых системных вызовов; после этого эти системные вызовы будут выполняться в пользовательском пространстве;
##### /SYSV0002065b (deleted) - сегменты разделяемой памяти.


### **pagemap**

Файл, содержащий 64-ти битное значение для каждой виртуальной страницы.

* `63` - установлен, если в RAM
* `62` - установлен, если в swap
* `61` - установлен, если страница сопоставлена с файлами / является анон. разделяемой

* `60 - 57` = 0

* `56` - установлен, если страница используется только одним процессом
* `55` - флаг soft-dirty (отслеживание изменений страниц памяти процесса)

Если в RAM: `54 - 0` - номер физической страницы.

Если в swap: `54 - 5` - смещение в swap; `4 - 0` - тип swap.

### **root** - символьная ссылка на корневую директорию процесса

### **statm** - информация об используемой памяти и изменениях в страницах.

##### size - общий размер памяти процесса.

##### resident - количество страниц в реальной памяти.

##### shared - количество общих страниц.

##### text - количество страниц, занятых кодом.

##### lib - количество страниц, занятых библиотеками.

##### data - количество страниц, занятых данными.

##### dt - количество страниц, занятых динамическими библиотеками.

## **stat**

Информация о процессе

* pid 
* state
* tty_nr - управ. терминал
* tggid - группа управ. терминала
* flags
* *flt - сбои
* utime - тики в режиме пользователя
* stime - тики в редиме ядра
* priotiry - приоритет
* nice
* vsize - размер виртуальной памяти
* и другие поля.

## **task**

Информация о потоках процесса.